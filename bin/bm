#!/usr/bin/env bash

CODE=$( cat <<EOS
#!/usr/bin/env ruby
require 'benchmark'

TIMES = ENV['TIMES'] || 100_000

Benchmark.bm(30) do |bm|
  bm.report '' do
    TIMES.times do
    end
  end

  bm.report '' do
    TIMES.times do
    end
  end
end

__END__
EOS)

echo "$CODE" > $1
chmod +x $1

system_profiler SPHardwareDataType SPSoftwareDataType -detailLevel mini >> $1
